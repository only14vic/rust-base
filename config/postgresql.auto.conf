# Do not edit this file manually!
# It will be overwritten by the ALTER SYSTEM command.
max_connections = '1000'
max_prepared_transactions = '1000'

shared_buffers = '1024MB'
work_mem = '16MB'
hash_mem_multiplier = '2'
max_files_per_process = '1000'
effective_io_concurrency = '1000'

max_worker_processes = '24'
max_parallel_workers = '12'
max_parallel_workers_per_gather = '2'

max_wal_size = '1GB'
min_wal_size = '80MB'

seq_page_cost = '3.0'
random_page_cost = '1.2'

log_destination = 'stderr'
logging_collector = 'on'
log_directory = '/var/log'
log_filename = 'postgresql.log'
log_min_messages = 'info'
#log_min_messages = 'log'
log_min_duration_statement = '100'
#log_min_duration_statement = '1000'
log_temp_files = '1024'
log_timezone = 'Europe/Moscow'
log_checkpoints = 'off'
log_lock_waits = 'on'
log_recovery_conflict_waits = 'on'

timezone = 'Europe/Moscow'
datestyle = 'iso, mdy'

default_text_search_config = 'pg_catalog.russian'

#auto_explain.log_min_duration = '1000'
auto_explain.log_min_duration = '100'
auto_explain.log_analyze = 'on'
auto_explain.log_buffers = 'on'
auto_explain.log_verbose = 'off'
auto_explain.log_settings = 'on'

cron.database_name = 'app'
cron.timezone = 'UTC'
cron.use_background_workers = 'on'
cron.log_run = 'on'
cron.log_statement = 'off'

shared_preload_libraries = 'pg_cron,pg_stat_statements,auto_explain'
